{
  "version": 3,
  "sources": ["../../vuetify/src/components/VMenu/VMenu.tsx"],
  "sourcesContent": ["// Styles\nimport './VMenu.sass'\n\n// Components\nimport { VDialogTransition } from '@/components/transitions'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\n\n// Composables\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useScopeId } from '@/composables/scopeId'\n\n// Utilities\nimport { computed, inject, mergeProps, provide, ref, watch } from 'vue'\nimport { genericComponent, getUid, omit, useRender } from '@/util'\nimport { filterVOverlayProps, makeVOverlayProps } from '@/components/VOverlay/VOverlay'\nimport { VMenuSymbol } from './shared'\n\n// Types\nimport type { SlotsToProps } from '@/util'\nimport type { OverlaySlots } from '@/components/VOverlay/VOverlay'\n\nexport const VMenu = genericComponent<new () => {\n  $props: SlotsToProps<OverlaySlots>\n}>()({\n  name: 'VMenu',\n\n  props: {\n    // TODO\n    // disableKeys: Boolean,\n    id: String,\n\n    ...omit(makeVOverlayProps({\n      closeDelay: 250,\n      closeOnContentClick: true,\n      locationStrategy: 'connected' as const,\n      openDelay: 300,\n      scrim: false,\n      scrollStrategy: 'reposition' as const,\n      transition: { component: VDialogTransition },\n    }), ['absolute']),\n  },\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { scopeId } = useScopeId()\n\n    const uid = getUid()\n    const id = computed(() => props.id || `v-menu-${uid}`)\n\n    const overlay = ref<VOverlay>()\n\n    const parent = inject(VMenuSymbol, null)\n    let openChildren = 0\n    provide(VMenuSymbol, {\n      register () {\n        ++openChildren\n      },\n      unregister () {\n        --openChildren\n      },\n      closeParents () {\n        setTimeout(() => {\n          if (!openChildren) {\n            isActive.value = false\n            parent?.closeParents()\n          }\n        }, 40)\n      },\n    })\n\n    watch(isActive, val => {\n      val ? parent?.register() : parent?.unregister()\n    })\n\n    function onClickOutside () {\n      parent?.closeParents()\n    }\n\n    useRender(() => {\n      const [overlayProps] = filterVOverlayProps(props)\n\n      return (\n        <VOverlay\n          ref={ overlay }\n          class={[\n            'v-menu',\n          ]}\n          { ...overlayProps }\n          v-model={ isActive.value }\n          absolute\n          activatorProps={ mergeProps({\n            'aria-haspopup': 'menu',\n            'aria-expanded': String(isActive.value),\n            'aria-owns': id.value,\n          }, props.activatorProps) }\n          onClick:outside={ onClickOutside }\n          { ...scopeId }\n        >\n          {{\n            activator: slots.activator,\n            default: (...args) => (\n              <VDefaultsProvider root>\n                { slots.default?.(...args) }\n              </VDefaultsProvider>\n            ),\n          }}\n        </VOverlay>\n      )\n    })\n\n    return forwardRefs({ id }, overlay)\n  },\n})\n\nexport type VMenu = InstanceType<typeof VMenu>\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAA;AAsBO,IAAMA,QAAQC,iBAAgB,EAEhC;EACHC,MAAM;EAENC,OAAO;IAGLC,IAAIC;IAEJ,GAAGC,KAAKC,kBAAkB;MACxBC,YAAY;MACZC,qBAAqB;MACrBC,kBAAkB;MAClBC,WAAW;MACXC,OAAO;MACPC,gBAAgB;MAChBC,YAAY;QAAEC,WAAWC;MAAkB;IAC7C,CAAC,GAAG,CAAC,UAAU,CAAC;EAClB;EAEAC,OAAO;IACL,qBAAsBC,WAAmB;EAC3C;EAEAC,MAAOhB,OAAK,MAAa;AAAA,QAAX;MAAEiB;IAAM,IAAC;AACrB,UAAMC,WAAWC,gBAAgBnB,OAAO,YAAY;AACpD,UAAM;MAAEoB;IAAQ,IAAIC,WAAU;AAE9B,UAAMC,MAAMC,OAAM;AAClB,UAAMtB,KAAKuB,SAAS,MAAMxB,MAAMC,MAAO,UAASqB,KAAK;AAErD,UAAMG,UAAUC,IAAG;AAEnB,UAAMC,SAASC,OAAOC,aAAa,IAAI;AACvC,QAAIC,eAAe;AACnBC,YAAQF,aAAa;MACnBG,WAAY;AACV,UAAEF;MACJ;MACAG,aAAc;AACZ,UAAEH;MACJ;MACAI,eAAgB;AACdC,mBAAW,MAAM;AACf,cAAI,CAACL,cAAc;AACjBZ,qBAASH,QAAQ;AACjBY,sBAAM,OAAA,SAANA,OAAQO,aAAY;UACtB;QACF,GAAG,EAAE;MACP;IACF,CAAC;AAEDE,UAAMlB,UAAUmB,SAAO;AACrBA,YAAMV,UAAM,OAAA,SAANA,OAAQK,SAAQ,IAAKL,UAAM,OAAA,SAANA,OAAQM,WAAU;IAC/C,CAAC;AAED,aAASK,iBAAkB;AACzBX,gBAAM,OAAA,SAANA,OAAQO,aAAY;IACtB;AAEAK,cAAU,MAAM;AACd,YAAM,CAACC,YAAY,IAAIC,oBAAoBzC,KAAK;AAEhD,aAAA,YAAA,UAAA,WAAA;QAAA,OAEUyB;QAAO,SACN,CACL,QAAQ;MACT,GACIe,cAAY;QAAA,cACPtB,SAASH;QAAK,uBAAA,YAAdG,SAASH,QAAK;QAAA,YAAA;QAAA,kBAEP2B,WAAW;UAC1B,iBAAiB;UACjB,iBAAiBxC,OAAOgB,SAASH,KAAK;UACtC,aAAad,GAAGc;QAClB,GAAGf,MAAM2C,cAAc;QAAC,mBACNL;MAAc,GAC3BlB,OAAO,GAAA;QAGVwB,WAAW3B,MAAM2B;QACjBC,SAAS,WAAA;AAAA,cAAA;AAAA,mBAAA,OAAA,UAAA,QAAIC,OAAI,IAAA,MAAA,IAAA,GAAA,OAAA,GAAA,OAAA,MAAA,QAAA;AAAJA,iBAAI,QAAA,UAAA;UAAA;AAAA,iBAAA,YAAA,mBAAA;YAAA,QAAA;UAAA,GAAA;YAAA,SAAA,MAAA,EAAA,iBAEX7B,MAAM4B,YAAO,OAAA,SAAb,eAAA,KAAA5B,OAAgB,GAAG6B,IAAI,CAAC;UAAA,CAAA;QAAA;MAE7B,CAAA;IAIT,CAAC;AAED,WAAOC,YAAY;MAAE9C;IAAG,GAAGwB,OAAO;EACpC;AACF,CAAC;",
  "names": ["VMenu", "genericComponent", "name", "props", "id", "String", "omit", "makeVOverlayProps", "closeDelay", "closeOnContentClick", "locationStrategy", "openDelay", "scrim", "scrollStrategy", "transition", "component", "VDialogTransition", "emits", "value", "setup", "slots", "isActive", "useProxiedModel", "scopeId", "useScopeId", "uid", "getUid", "computed", "overlay", "ref", "parent", "inject", "VMenuSymbol", "openChildren", "provide", "register", "unregister", "closeParents", "setTimeout", "watch", "val", "onClickOutside", "useRender", "overlayProps", "filterVOverlayProps", "mergeProps", "activatorProps", "activator", "default", "args", "forwardRefs"]
}
